<table class="col-start-2 col-span-10">
  <thead class="font-normal text-left text-xs leading-6 text-zinc-800">
    <tr>
      <th class="p-4 pr-6">dir</th>
      <th class="p-4 pr-6">name</th>
      <th class="p-4 pr-6">size</th>
      <th class="p-4 pr-6">state</th>
      <th class="p-4 pr-6">ingest</th>
      <th class="p-4 pr-6">list</th>
    </tr>
  </thead>
  <tbody>
    {% for file in files_list %}
      <tr class="group hover:bg-zinc-50 odd:bg-white even:bg-slate-50 text-xs">
        <td class="p-4 pr-6 font-normal">
          {{files_map.get(file).get("local_dir")}}
        </td>
        <td class="p-4 pr-6 font-normal">
          {{file}}
        </td>
        <td class="p-4 pr-6 font-normal">
          {{files_map.get(file).get("file_size")}}
        </td>
        <td class="p-4 pr-6 font-normal">
          {% if corpus %}
            {{ corpus.state }}
          {% else %}
            new
          {% endif %}
        </td>
        <td class="p-4 pr-6 font-normal">
          {% if not corpus or (corpus and corpus.ingestable == 0) %}
            {% if corpus %}
              {% set title = "re-ingest corpus" %}
            {% else %}
              {% set title = "ingest corpus" %}
            {% endif %}

            <a href="/admin/corpus/ingest?source_uri={{source_uri}}" class="text-orange-600" title="{{title}}">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-5">
                <path fill-rule="evenodd" d="M10.5 3.75a6 6 0 0 0-5.98 6.496A5.25 5.25 0 0 0 6.75 20.25H18a4.5 4.5 0 0 0 2.206-8.423 3.75 3.75 0 0 0-4.133-4.303A6.001 6.001 0 0 0 10.5 3.75Zm2.03 5.47a.75.75 0 0 0-1.06 0l-3 3a.75.75 0 1 0 1.06 1.06l1.72-1.72v4.94a.75.75 0 0 0 1.5 0v-4.94l1.72 1.72a.75.75 0 1 0 1.06-1.06l-3-3Z" clip-rule="evenodd" />
              </svg>
            </a>
          {% endif %}
        </td>
        <td class="p-4 pr-6 font-normal">
          {% if corpus %}
            <a href="/admin/corpus?query=name:{{corpus.name}}" class="font-bold {{text_color}}" title="list corpus">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-6">
                <path fill-rule="evenodd" d="M2.625 6.75a1.125 1.125 0 1 1 2.25 0 1.125 1.125 0 0 1-2.25 0Zm4.875 0A.75.75 0 0 1 8.25 6h12a.75.75 0 0 1 0 1.5h-12a.75.75 0 0 1-.75-.75ZM2.625 12a1.125 1.125 0 1 1 2.25 0 1.125 1.125 0 0 1-2.25 0ZM7.5 12a.75.75 0 0 1 .75-.75h12a.75.75 0 0 1 0 1.5h-12A.75.75 0 0 1 7.5 12Zm-4.875 5.25a1.125 1.125 0 1 1 2.25 0 1.125 1.125 0 0 1-2.25 0Zm4.875 0a.75.75 0 0 1 .75-.75h12a.75.75 0 0 1 0 1.5h-12a.75.75 0 0 1-.75-.75Z" clip-rule="evenodd" />
              </svg>
            </a>
          {% endif %}
        </td>
    </tr>
      {% endfor %}
  </tbody>
</table>
