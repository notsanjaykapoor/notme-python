---
# Source: redpanda/templates/tests/test-api-status.yaml
apiVersion: v1
kind: Pod
metadata:
  name: "redpanda-test-api-status"
  namespace: "default"
  labels:
    helm.sh/chart: redpanda-2.3.15
    app.kubernetes.io/name: redpanda
    app.kubernetes.io/instance: "redpanda"
    app.kubernetes.io/managed-by: "Helm"
    app.kubernetes.io/component: redpanda
  annotations:
    "helm.sh/hook": test
    "helm.sh/hook-delete-policy": before-hook-creation,hook-succeeded
spec:
  restartPolicy: Never
  containers:
    - name: redpanda
      image: vectorized/redpanda:v22.3.5
      command:
      - /bin/bash
      - -c
      - >
        rpk cluster info
        --brokers redpanda-0.redpanda.default.svc.cluster.local.:9093
      volumeMounts:
        - name: redpanda
          mountPath: /tmp/base-config
  volumes:
    - name: redpanda
      configMap:
        name: redpanda
    - name: config
      emptyDir: {}
